原文链接:[分页](https://www.elastic.co/guide/en/elasticsearch/guide/current/pagination.html)

### 分页
我们在之前的 empty search 中告诉大家，我们的查询在集群中匹配到了 14 个文档。但是，在 hits 数组中只返回了 10 个文档。我们怎样来看其他的文档呢？

和 sql 一样，我们用 limit 关键字来返回一页的结果，es 接受 from 和 size 参数:
#### size
预示着返回结果集的数量，默认是 10 
#### from
预示着初始结果集应该跳过多少记录，默认是 0

如果你想每页展示 5 条记录，从第 1 页到第 3 页，可以如下请求:

```http request
GET /_search?size=5
GET /_search?size=5&from=5
GET /_search?size=5&from=10
```
谨慎，分页太深或者一次请求太多的结果。结果集在返回之前需要先排序。需要记住的是，一个搜索请求经常跨多个分片。每个分片产生自己的排序结果集，协调节点然后还需要把各个分片返回的结果集组合在一起之后再重新排序来确保总体的顺序是正确的。

### 分布式系统中的深度分页
为了理解为什么深度分页会产生问题，让我们假设我们在一个有 5 个主分片的索引中搜索。当我们请求第一页的结果（结果 1 到 10），每个分片处理自己的前 10 个结果，然后每个分片把自己的结果集返回给协调节点，为了返回总体的前 10 个结果，然后协调节点还需要把这 50 个结果再重排序后返回前 10 个。

现在，假设我们需要第 1000 页，从结果 10001 到 10010 。处理过程和上面访问第一页的时候是一样的，除了每个分片必须产生前 10010 个结果，而前面是前 10 个结果。然后协调结点把所有的 50050 个结果再重新排序，然后把后面的 50040 个结果都丢掉。

可以看到，在分布式系统中，随着分页越深，排序结果集的代价在指数级的增长。这是一个很重要的原因，对于任意搜索请求，web 搜索引擎不要返回超过 1000 个结果。




